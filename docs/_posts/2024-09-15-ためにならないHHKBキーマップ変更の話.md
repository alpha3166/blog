---
title: "ためにならないHHKBキーマップ変更の話"
categories: パソコン
series: hhkb
---

## まずは結論

HHKBのキーマップ変更について、衝撃的な事実にいまごろ気付いたのでメモ。けど衝撃を受けたのは自分だけで、他の人には何の参考にもならない、たぶん。

もったいぶらずに結論だけ書くと、衝撃を受けたのは下記の2点。

1. HHKBに**NumLockキー**あるやんけ!!!!!
2. Winモードでも**マルチメディアキー**使えるやんけ!!!

で、やり方は、それぞれキーマップ変更ツールで割り当てればいいだけ。以上!!

以下は思いの丈をぶつけてるだけなので、ためになるような情報は何もない。

## NumLockキー

Happy Hacking Keyboard Professional HYBRID Type-S 日本語配列 (以下HHKBとする) を購入したのは、約3年前の2021年11月 (「[キーボードの紆余曲折の話](20211103.html)」)。以来、ときどきRealforceのキー荷重30gに浮気はしつつも、やっぱり打鍵感の心地よさに惹かれてHHKBに戻ってきている。

ただ、今は個人使用だけで、仕事ではHHKBを使えていない。というのも、今の仕事場のPC環境はちょっと特殊で、どうしても`NumLock`キーが必要なのだ。HHKBには`NumLock`キーが無い。キーマップ変更ツールもインストールしてみたが、やっぱり無い。ウェブでいろいろ検索もしたが、そもそも`NumLock`を必要としている人が皆無なので話題にもならない。そんなわけで、仕事でHHKBを使うのは諦めていた。そうすると、自宅では`Control`が`A`の左、`Esc`が`1`の左の環境で過ごすため、出勤してしばらくはどうしてもその辺を押し間違えてしまう。それと、単純にこの打鍵感を仕事でも使いたいという未練があって、`NumLock`なんとかならんかなーとずっと思っていた。

去年 (2023年) の10月に出た HHKB Studio も気にはなっていたが、製品名とNumLockで検索した程度では情報がなかったので、まあ状況は同じだろうと思ってあまり深く調べていなかった。ただ、HHKB Studio の方がキーマップ変更の自由度が高いという話を最近聞いたので、具体的にどう違うんだろうと思ってマニュアルやプロモーション動画を見ていた。そしたら、ツールで入れ替え可能なキーの中に`NumLk`があるのを発見した。おお、これなら! と思って危うくそのまま HHKB Studio をポチりかけた。

![img](img/20240915-001.png)

いや、けどその前に、手持ちのHHKBでもソフトのバージョンアップとかで`NumLock`が使えるようになったりしてないかなー、と思って確認すると、そんな情報は無いものの、今年 (2024年) になってひとつ新しいバージョンのファームウェアが出ていた。まあいちおう当てておくかと思って、バージョンアップにはキーマップ変更ツールが必要なのでそれもダウンロードして、ファームウェアを最新化した。(ちなみに、意外と時間かかるので、急いでるときはやめた方がいい)

久しぶりにキーマップ変更ツールを入れたので、あらためて割り当て可能なキーを眺めていると、`Clr`という見慣れないキーがあるのに気付いた。Clr? Clearかな? そんなキーは109キーボードには無いが、これは何? HHKB Studio のキーマップ変更ツールにもあるのかしらと思ってみてみると、さっき見た`NumLock`の上に`Clr`とも書かれている。え? `Clr`と`NumLock`は同じ機能なの? ということはもしかして……、と早速HHKBで`Clr`を空いてるキーに割り当ててみる。が、そもそもHHKBにはNumLockのインジケーターが無いし、押しても機能しているのかどうか分からない。それならば、と別のフルサイズキーボード (これがRealforceのキー荷重30gなんですが) をつないでから、HHKBの`Clr` (を割り当てた) キーを押してみると、果たしてRealforceのNumLkインジケーターが緑色に輝いた。おい、HHKBにNumLockあるやんけ!!!!!

![img](img/20240915-002.png)

## マルチメディアキー

さらにキーマップ変更ツールを眺めていると、一部のキーの左上に赤い三角マークがついているのに気付いた。これは何だろうとツールのヘルプを見ると、だいぶ深いところに

> 未割り当てキー（実際のキーボードで使用されないキー）には、キーの左上に赤い印が付きます。

と書いてあった。なるほど。

で、その「未割り当てキー」の中には、マルチメディアキーもある。

マルチメディアキーというのは、音量の上げ下げやミュート、メディアのイジェクトなどができる5つのキーのことだ。`A`、`S`、`D`、`F`、`Esc`の各キーの前面に、斜体で`Vol_Dn`、`Vol_Up`、`Mute`、`Eject`、`Power`と刻印された機能で、`Fn`と一緒に押すことで実行できる。ただし、マニュアルにも

> 斜体文字はMac OS専用機能です。

と明記されており、`Fn`+`Control`+`M`でMacモードに切り替えないと使えない……、と今の今まで思い込んでいた。

しかし、以前「[Windows使いがiPhone/iPadでHHKB](20240120.html)」にも書いたように、HHKBをMacモードにしてやれば、Windows機でも`Vol_Dn`などの機能は使えたのだ。ということは、キーマップ変更ツールで`Fn`面の各キーにこれらを割り当ててやれば、Windowsでも刻印どおりのマルチメディアキーが常時使えるということになる。実際割り当ててみると、予想通り`Vol_Dn`、`Vol_Up`、`Mute`の3つは使えるようになった。おい、Winモードでもマルチメディアキー使えるやんけ!!! ちなみに`Eject`は、USBの外付け光学ドライブを接続してから押してみたが、何も起こらなかった。`Power`も同様に、押しても何も起こらなかった。まあそうでしょうね。

## 自分のキーマップ

最終的に、変更後の`Fn`面はこうなった。マルチメディア5キーは刻印通り割り当て。`NumLock`改め`Clr`は`Fn`+`C`に割り当て。あとは、アプリケーションキーをRealforceと同じ`Fn`+`Alt`(右)に割り当てた。Excelのシェイプで書式が変わらないようにテキストだけペーストするとき、マウスでシェイプの中がうまくクリックできないので、わりとよくアプリケーションキーを使うのだ (`Shift`+`F10`で代用は可能)。いずれも元は何も割り当てられていないキーなので、最初からこうしておいて欲しいぐらいだ。

![img](img/20240915-003.png)

## さいごに

そんなわけで、製造元のPFUさんには

- HHKB Professional のキーマップ変更ツールの`Clr`にも`NumLock`って書いておいて欲しいな
- Winモードにも`Vol_Dn`、`Vol_Up`、`Mute`、`Eject`、`Power`をあらかじめ割り当てておいて欲しいな

という2点をお願いしたい。特に`NumLock`は、そのためだけにうっかり HHKB Studio を買ってしまいそうになったし、なんなら前述のRealforceだって、在宅で仕事するときに`NumLock`付きのキーボードが必要で買ったようなところがあるので、表記ひとつでウン万円の出費になっちゃうわけですよ。お願いしますよ、マジで。

※バージョンメモ

- Happy Hacking Keyboard Professional HYBRID Type-S 日本語配列/墨 (ファームウェアバージョン A2.46→A2.47)
- Happy Hacking Keyboard キーマップ変更ツール 1.3.0.1
- Realforce R3HA13
