---
title: "ER図の鳥の足をSVGで部品化する"
categories: パソコン プログラミング
---

ExcelでIE記法のER図を書くときに、鳥の足 (Crow's Foot) をどう描くか。(え? ER図書くならもっと便利なツールを使う? そりゃ恵まれてますね)

今までは、線と円のシェイプを組み合わせて、それをグループ化した部品を作って描いていた。「0..1」とか「1..n」とかのパーツを用意しておいて、それをコネクタで結べば、エンティティの移動とか整列とかには割と耐えられる。けど、グループ化を解除しすぎちゃったり、手が滑って線を1本だけ動かしちゃったりすると、形が崩れてしまう。それと、Excelってやつはズームの倍率を変えると微妙にシェイプの位置やサイズが変わるので、編集をくり返しているうちに、なーんか形が歪んできたりもする。丸が潰れて新円じゃなくなったりとか。これなんとかならんじゃろか。

ふと、SVGの画像ファイルの鳥足パーツがあれば、型崩れの心配もなく、拡大・縮小・回転・コネクタ接続などもできて便利なのではと思った。最近のExcelならSVG画像もそのまま取り込めたはず。確かPowerPointなら、SVGのフォアグランドカラーなんかも好きに変えられたはず。こんなもん絶対もう誰かが作ってるはずだけど、検索しても意外に手頃なものがなかったので、自作してみた (というほど大したものでもないが)。

場合によっては、古いExcelしか使えずSVGが取り込めないこともありそうなので、いちおう透過PNGにも変換したものも置いておく。(ImageMagickで`convert -background none`しただけのもの)

## SVG版

![one](resources/er-diagram/crows-foot-one.svg)
![many](resources/er-diagram/crows-foot-many.svg)
![zero or one](resources/er-diagram/crows-foot-zero-one.svg)
![zero or many](resources/er-diagram/crows-foot-zero-many.svg)
![one and only one](resources/er-diagram/crows-foot-one-one.svg)
![one or many](resources/er-diagram/crows-foot-one-many.svg)

## PNG版

![one](resources/er-diagram/crows-foot-one.png)
![many](resources/er-diagram/crows-foot-many.png)
![zero or one](resources/er-diagram/crows-foot-zero-one.png)
![zero or many](resources/er-diagram/crows-foot-zero-many.png)
![one and only one](resources/er-diagram/crows-foot-one-one.png)
![one or many](resources/er-diagram/crows-foot-one-many.png)
